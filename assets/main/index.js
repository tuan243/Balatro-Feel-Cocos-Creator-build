System.register("chunks:///_virtual/Ball.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,n,i,c,r,l,a;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,n=t._decorator,i=t.Graphics,c=t.Vec3,r=t.v3,l=t.v2,a=t.Component}],execute:function(){var s;o._RF.push({},"6bb24EZQ2BHfqMneCqhU0TZ","Ball",void 0);var p=n.ccclass;n.property,t("Ball",p("Ball")(s=function(t){function o(){for(var e,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))||this).tempVec=r(),e.velocity=l(1,1).normalize(),e}e(o,t);var n=o.prototype;return n.onLoad=function(){var t=this.getComponent(i);null==t&&(t=this.addComponent(i)),t.circle(0,0,50),t.fill()},n.update=function(t){var e=c.add(this.tempVec,this.node.position,c.multiplyScalar(this.tempVec,this.velocity.toVec3(),50*t));this.node.setPosition(e)},o}(a))||s);o._RF.pop()}}}));

System.register("chunks:///_virtual/BasicFlipAnimation.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r,a,i,o,c,l,p,s,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,c=e.SpriteFrame,l=e.tween,p=e.Sprite,s=e.toRadian,u=e.Component}],execute:function(){var f,d,g,m,b,h,y;i._RF.push({},"02ef6ZzT2hFmYyQH7PgfFgW","BasicFlipAnimation",void 0);var F=o.ccclass,v=o.property;e("BasicFlipAnimation",(f=F("BasicFlipAnimation"),d=v(c),g=v(c),f((h=t((b=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,r(t,"frontCard",h,a(t)),r(t,"backCard",y,a(t)),t.tweenObj={angle:0},t}return n(t,e),t.prototype.onLoad=function(){var e=this;l(this.tweenObj).set({angle:0}).to(.25,{angle:90},{onStart:function(){e.getComponent(p).spriteFrame=e.backCard},onUpdate:function(t){var n=s(t.angle);e.node.setScale(Math.cos(n),1)}}).to(.25,{angle:180},{onStart:function(){e.getComponent(p).spriteFrame=e.frontCard},onUpdate:function(t){var n=s(t.angle);e.node.setScale(Math.cos(n),1)}}).delay(2).union().repeatForever().start()},t}(u)).prototype,"frontCard",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(b.prototype,"backCard",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=b))||m));i._RF.pop()}}}));

System.register("chunks:///_virtual/Card.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utils.ts"],(function(t){var n,e,i,o,a,r,s,d,c,l,u,g,p,h,v,f,C,P,_;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.createClass},function(t){r=t.cclegacy,s=t._decorator,d=t.Prefab,c=t.v2,l=t.v3,u=t.mat4,g=t.Mat4,p=t.find,h=t.instantiate,v=t.UITransform,f=t.Node,C=t.Vec3,P=t.Component},function(t){_=t.remap}],execute:function(){var m,y,M,V,E;r._RF.push({},"da7d38bDQlLYoD+UxoY87+Y","Card",void 0);var b=s.ccclass,T=s.property;t("Card",(m=b("Card"),y=T(d),m((E=n((V=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return n=t.call.apply(t,[this].concat(a))||this,i(n,"cardVisualPrefab",E,o(n)),n.hovering=!1,n.dragging=!1,n.cardVisual=null,n.mousePosition=c(),n.tempVec2=c(),n.tempVec3=l(),n.offset=l(),n._visualPos=l(),n._selectingCardCb=void 0,n._deSelectingCardCb=void 0,n.localMat=u(),n._visualMat=u(),n._cardContainerMat=u(),n.crossing=!1,n}e(n,t);var r=n.prototype;return r.onLoad=function(){g.invert(this.localMat,this.node.parent.worldMatrix);var t=p("Canvas/card-visual-container");g.invert(this._visualMat,t.parent.worldMatrix),g.invert(this._cardContainerMat,this.node.parent.parent.worldMatrix)},r.start=function(){var t=this,n=h(this.cardVisualPrefab);this.cardVisual=n.getComponent("CardVisual"),this.cardVisual.initialzie(this),this.getComponent(v).setContentSize(n.getComponent(v).contentSize),this.node.parent.on(f.EventType.TRANSFORM_CHANGED,(function(){g.invert(t.localMat,t.node.parent.worldMatrix);var n=p("Canvas/card-visual-container");g.invert(t._visualMat,n.parent.worldMatrix)})),this.node.on(f.EventType.MOUSE_ENTER,(function(){t.hovering=!0,t.cardVisual.onPointerEnter()})),this.node.on(f.EventType.MOUSE_LEAVE,(function(){t.hovering=!1,t.cardVisual.onPointerExit()})),this.node.on(f.EventType.MOUSE_MOVE,(function(n){t.cardVisual.setMouseMoveLocation(n.getUILocation())})),this.node.on(f.EventType.TOUCH_START,(function(n){t.dragging=!0,n.getUILocation(t.mousePosition),t.offset.set(t.mousePosition.x-t.node.worldPosition.x,t.mousePosition.y-t.node.worldPosition.y),t.cardVisual.onBeginDrag(),t.cardVisual.onPointerDown(),t._selectingCardCb&&t._selectingCardCb(t)})),this.node.on(f.EventType.TOUCH_MOVE,(function(n){t.dragging&&n.getUILocation(t.mousePosition)}));var e=function(){t.dragging=!1,t.cardVisual.node.setParent(p("Canvas/card-visual-container")),t.cardVisual.updateIndex(),t.cardVisual.onEndDrag(),t.node.setPosition(0,0),t._deSelectingCardCb&&t._deSelectingCardCb(t),t.cardVisual.onPointerUp()};[f.EventType.TOUCH_END,f.EventType.TOUCH_CANCEL].forEach((function(n){t.node.on(n,e)}))},r.update=function(t){if(this.dragging){this.tempVec3.set(this.mousePosition.x,this.mousePosition.y).subtract(this.offset);var n=C.subtract(this.tempVec3,this.tempVec3,this.node.worldPosition),e=n.length();e>75&&n.multiplyScalar(75/e);var i=C.add(n,this.node.worldPosition,n);this.node.setWorldPosition(i)}},r.lateUpdate=function(t){this.crossing=!1},r.setSelectingCardCb=function(t){this._selectingCardCb=t},r.setDeSelectingCardCb=function(t){this._deSelectingCardCb=t},a(n,[{key:"visualPosition",get:function(){return C.transformMat4(this._visualPos,this.node.worldPosition,this._visualMat)}},{key:"siblingAmount",get:function(){return this.node.parent.parent.children.length-1}},{key:"parentIdx",get:function(){return this.node.parent.getSiblingIndex()}},{key:"normalizedPosition",get:function(){return _(this.parentIdx,0,this.node.parent.parent.children.length-1,0,1)}}]),n}(P)).prototype,"cardVisualPrefab",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=V))||M));r._RF.pop()}}}));

System.register("chunks:///_virtual/CardHolder.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Card.ts"],(function(e){var t,r,s,d,n;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy,s=e._decorator,d=e.Component},function(e){n=e.Card}],execute:function(){var a;r._RF.push({},"042047B+lFPGJc3kfNM67Rt","CardHolder",void 0);var i=s.ccclass;s.property,e("CardHolder",i("CardHolder")(a=function(e){function r(){for(var t,r=arguments.length,s=new Array(r),d=0;d<r;d++)s[d]=arguments[d];return(t=e.call.apply(e,[this].concat(s))||this).selectedCard=null,t._choosedIdx=-1,t.cards=[],t}t(r,e);var s=r.prototype;return s.onLoad=function(){var e=this.onSelectingCard.bind(this),t=this.onDeselectingCard.bind(this);this.cards=this.getComponentsInChildren(n),this.cards.forEach((function(r){r.setSelectingCardCb(e),r.setDeSelectingCardCb(t)})),console.log("this cards",this.cards)},s.onSelectingCard=function(e){this.selectedCard=e,this._choosedIdx=this.selectedCard.parentIdx},s.onDeselectingCard=function(e){this.selectedCard=null,this._choosedIdx=-1},s.update=function(e){if(null!=this.selectedCard)for(var t=0;t<this.cards.length;t++){var r=this.cards[t];if(this.selectedCard.node.worldPosition.x>r.node.worldPosition.x&&this.selectedCard.parentIdx<r.parentIdx){this.swap(t);break}if(this.selectedCard.node.worldPosition.x<r.node.worldPosition.x&&this.selectedCard.parentIdx>r.parentIdx){this.swap(t);break}}},s.swap=function(e){var t=this.selectedCard.node.parent,r=this.cards[e].node.parent;this.cards[e].node.setParent(t),this.cards[e].node.setPosition(0,0),this.selectedCard.node.setParent(r,!0);var s=this.cards[e].parentIdx>this.selectedCard.parentIdx;this.cards[e].cardVisual.swap(s?-1:1),this.node.children.forEach((function(e){e.getComponentInChildren(n).cardVisual.updateIndex()}))},r}(d))||a);r._RF.pop()}}}));

System.register("chunks:///_virtual/CardVisual.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utils.ts"],(function(t){var i,e,n,a,r,o,s,l,u,c,h,p,d,f,g,m,b,v,A,w,y,S,z,P,T,O;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){r=t.cclegacy,o=t._decorator,s=t.Node,l=t.Sprite,u=t.Material,c=t.SpriteFrame,h=t.CurveRange,p=t.v3,d=t.v2,f=t.mat4,g=t.find,m=t.Mat4,b=t.Vec3,v=t.clamp01,A=t.clamp,w=t.misc,y=t.Tween,S=t.tween,z=t.easing,P=t.Component},function(t){T=t.remap,O=t.punchRotation}],execute:function(){var I,x,M,D,V,k,C,R,B,H,L,F,E,Y,U,_,J,N,j,q,W,Z,G,K,Q,X,$,tt,it,et,nt,at,rt,ot,st,lt,ut,ct,ht,pt,dt,ft,gt,mt,bt,vt,At,wt,yt,St,zt,Pt,Tt,Ot,It;r._RF.push({},"e3000sOeyJEUoPsnLZ5gLqJ","CardVisual",void 0);var xt=o.ccclass,Mt=o.property,Dt=o.type,Vt=o.float,kt={group:{name:"Rotation Parameters",id:"2"}},Ct={group:{name:"Scale Parameters",id:"3"}},Rt={group:{name:"Hover Parameters",id:"5"}},Bt={group:{name:"Swap Parameters",id:"6"}};t("CardVisual",(I=xt("CardVisual"),x=Dt(s),M=Dt(s),D=Dt(l),V=Dt(s),k=Mt([u]),C=Mt([c]),R=Mt({group:{name:"Follow Parameters",id:"1"}}),B=Mt(kt),H=Mt(kt),L=Mt(kt),F=Mt(kt),E=Mt(kt),Y=Mt(Ct),U=Mt(Ct),_=Mt(Ct),J=Mt(Ct),N=Mt({group:{name:"Select Parameters",id:"4"}}),j=Mt(Rt),q=Mt(Rt),W=Mt(Bt),Z=Mt(Bt),G=Mt(Bt),K=Mt(Bt),Q=Mt(h),X=Mt(h),I((it=i((tt=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return i=t.call.apply(t,[this].concat(r))||this,n(i,"shakeAnchor",it,a(i)),n(i,"tiltAnchor",et,a(i)),n(i,"sprite",nt,a(i)),n(i,"visualShadow",at,a(i)),n(i,"materials",rt,a(i)),n(i,"cardSfs",ot,a(i)),i.material=void 0,i.time=0,n(i,"followSpeed",st,a(i)),n(i,"rotationAmount",lt,a(i)),n(i,"rotationSpeed",ut,a(i)),n(i,"autoTiltAmount",ct,a(i)),n(i,"manualTiltAmount",ht,a(i)),n(i,"tiltSpeed",pt,a(i)),n(i,"scaleAnimations",dt,a(i)),n(i,"scaleOnHover",ft,a(i)),n(i,"scaleOnSelect",gt,a(i)),n(i,"scaleTransition",mt,a(i)),n(i,"selectPunchAmount",bt,a(i)),n(i,"hoverPunchAngle",vt,a(i)),n(i,"hoverTransition",At,a(i)),n(i,"swapAnimations",wt,a(i)),n(i,"swapRotationAngle",yt,a(i)),n(i,"swapTransition",St,a(i)),n(i,"swapVibrato",zt,a(i)),n(i,"positioningCurve",Pt,a(i)),n(i,"positioningInfluence",Tt,a(i)),n(i,"rotationCurve",Ot,a(i)),n(i,"rotationInfluence",It,a(i)),i.curveYOffset=0,i.curveRotationOffset=0,i.mouseLocation=p(),i.randomOffset=d(),i.card=null,i.posVec=p(),i.movementDelta=p(),i.rotationDelta=p(),i.visualMat=f(),i.shadowDistance=p(),i.shadowOffset=p(-133,-191).normalize().multiplyScalar(20),i.savedIdx=0,i}e(i,t);var r=i.prototype;return r.onLoad=function(){var t=g("Canvas/card-visual-container");m.invert(this.visualMat,t.parent.worldMatrix)},r.start=function(){var t=Math.floor(3*Math.random());t<2?(this.sprite.setMaterialInstance(this.materials[t],0),this.material=this.sprite.getMaterialInstance(0)):this.material=this.sprite.sharedMaterial,this.sprite.spriteFrame=this.cardSfs[Math.floor(Math.random()*this.cardSfs.length)],this.shadowDistance=this.visualShadow.position.clone()},r.initialzie=function(t){this.card=t,this.node.setPosition(this.card.visualPosition),this.node.setParent(g("Canvas/card-visual-container"))},r.update=function(t){var i=this.clampAngle(this.tiltAnchor.eulerAngles.x,-90,90),e=this.clampAngle(this.tiltAnchor.eulerAngles.y,-90,90);i=T(i,-20,20,-.5,.5),e=T(e,-20,20,-.5,.5);var n=this.material.passes[0].getHandle("rotation");this.material.passes[0].setUniform(n,d(i,e)),this.time+=t,null!=this.card&&(this.handPositioning(),this.smoothFollow(t),this.followRotation(t),this.cardTilt(t))},r.handPositioning=function(){this.curveYOffset=this.positioningCurve.evaluate(this.card.normalizedPosition,0)*this.positioningInfluence*this.card.siblingAmount,this.curveYOffset=this.card.siblingAmount<5?0:this.curveYOffset,this.curveRotationOffset=this.rotationCurve.evaluate(this.card.normalizedPosition,0)},r.smoothFollow=function(t){if(null!=this.card){var i=this.posVec.set(0,this.card.dragging?0:this.curveYOffset,0);b.lerp(this.posVec,this.node.worldPosition,b.add(this.posVec,this.card.node.worldPosition,i),v(this.followSpeed*t)),this.node.setWorldPosition(this.posVec)}},r.followRotation=function(t){var i=b.subtract(this.posVec,this.node.worldPosition,this.card.node.worldPosition).multiplyScalar(1/128);b.lerp(this.movementDelta,this.movementDelta,i,v(25*t));var e=b.multiplyScalar(this.posVec,this.card.dragging?this.movementDelta:i,this.rotationAmount);b.lerp(this.rotationDelta,this.rotationDelta,e,v(this.rotationSpeed*t)),this.node.angle=A(this.rotationDelta.x,-60,60)},r.clampAngle=function(t,i,e){return t<-180&&(t+=360),t>180&&(t-=360),w.clampf(t,i,e)},r.cardTilt=function(t){this.savedIdx=this.card.parentIdx;var i=Math.sin(this.time+this.savedIdx)*(this.card.hovering?.2:1),e=Math.cos(this.time+this.savedIdx)*(this.card.hovering?.2:1);this.card.parentIdx;var n=b.subtract(this.posVec,this.node.worldPosition,this.mouseLocation),a=this.card.hovering?-n.y*this.manualTiltAmount/128:0,r=this.card.hovering?n.x*this.manualTiltAmount/128:0,o=this.card.dragging?this.tiltAnchor.eulerAngles.z:this.curveRotationOffset*this.rotationInfluence*this.card.siblingAmount,s=this.lerpAngle(this.tiltAnchor.eulerAngles.x,a+i*this.autoTiltAmount,this.tiltSpeed*t),l=this.lerpAngle(this.tiltAnchor.eulerAngles.y,r+e*this.autoTiltAmount,this.tiltSpeed*t),u=this.lerpAngle(this.tiltAnchor.eulerAngles.z,o,this.tiltSpeed/2*t);0===this.card.parentIdx&&console.log("world rot",this.tiltAnchor.worldRotation.getEulerAngles(p())),this.tiltAnchor.eulerAngles=p(s,l,u)},r.lerpAngle=function(t,i,e){return t+this.deltaAngle(t,i)*v(e)},r.deltaAngle=function(t,i){var e=this.repeat(i-t,360);return e>180&&(e-=360),e},r.repeat=function(t,i){return t-Math.floor(t/i)*i},r.updateIndex=function(){this.node.setSiblingIndex(this.card.node.parent.getSiblingIndex())},r.swap=function(t){void 0===t&&(t=1),this.swapAnimations&&(y.stopAllByTarget(this.shakeAnchor),this.shakeAnchor.eulerAngles=p(0,0,0),O(this.shakeAnchor,p(0,0,this.swapRotationAngle*t),this.swapTransition,this.swapVibrato,1))},r.onBeginDrag=function(){this.node.setParent(g("Canvas/hover-card-visual-container")),y.stopAllByTarget(this.node),S(this.node).to(this.scaleTransition,{scale:p(this.scaleOnSelect,this.scaleOnSelect,1)},{easing:z.backOut}).start()},r.onEndDrag=function(){y.stopAllByTarget(this.node),S(this.node).to(this.scaleTransition,{scale:p(1,1,1)},{easing:z.backOut}).start()},r.onPointerUp=function(){this.scaleAnimations&&(y.stopAllByTarget(this.node),S(this.node).to(this.scaleTransition,{scale:p(this.scaleOnHover,this.scaleOnHover,1)},{easing:z.backOut}).start()),this.visualShadow.setPosition(this.shadowDistance)},r.onPointerDown=function(){this.scaleAnimations&&(y.stopAllByTarget(this.node),S(this.node).to(this.scaleTransition,{scale:p(this.scaleOnSelect,this.scaleOnSelect,1)},{easing:z.backOut}).start()),this.visualShadow.setPosition(b.add(p(),this.visualShadow.position,this.shadowOffset))},r.onPointerEnter=function(){this.scaleAnimations&&(y.stopAllByTarget(this.node),S(this.node).to(this.scaleTransition,{scale:p(this.scaleOnHover,this.scaleOnHover,1)},{easing:z.backOut}).start()),y.stopAllByTarget(this.shakeAnchor),this.shakeAnchor.eulerAngles=p(0,0,0),O(this.shakeAnchor,p(0,0,this.hoverPunchAngle),this.hoverTransition,20,1)},r.onPointerExit=function(){this.card.dragging||(y.stopAllByTarget(this.node),S(this.node).to(this.scaleTransition,{scale:b.ONE},{easing:z.backOut}).start())},r.setMouseMoveLocation=function(t){this.mouseLocation.set(t.x,t.y)},i}(P)).prototype,"shakeAnchor",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=i(tt.prototype,"tiltAnchor",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=i(tt.prototype,"sprite",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=i(tt.prototype,"visualShadow",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=i(tt.prototype,"materials",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ot=i(tt.prototype,"cardSfs",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),st=i(tt.prototype,"followSpeed",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),lt=i(tt.prototype,"rotationAmount",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),ut=i(tt.prototype,"rotationSpeed",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),ct=i(tt.prototype,"autoTiltAmount",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),ht=i(tt.prototype,"manualTiltAmount",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),pt=i(tt.prototype,"tiltSpeed",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),dt=i(tt.prototype,"scaleAnimations",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ft=i(tt.prototype,"scaleOnHover",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.15}}),gt=i(tt.prototype,"scaleOnSelect",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.25}}),mt=i(tt.prototype,"scaleTransition",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.15}}),bt=i(tt.prototype,"selectPunchAmount",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),vt=i(tt.prototype,"hoverPunchAngle",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),At=i(tt.prototype,"hoverTransition",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.15}}),wt=i(tt.prototype,"swapAnimations",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),yt=i(tt.prototype,"swapRotationAngle",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),St=i(tt.prototype,"swapTransition",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.15}}),zt=i(tt.prototype,"swapVibrato",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),Pt=i(tt.prototype,"positioningCurve",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),Tt=i(tt.prototype,"positioningInfluence",[Vt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),Ot=i(tt.prototype,"rotationCurve",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),It=i(tt.prototype,"rotationInfluence",[Vt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.2}}),$=tt))||$));r._RF.pop()}}}));

System.register("chunks:///_virtual/Circle.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){var e,i,t,n,o,c,a,l,s;return{setters:[function(r){e=r.applyDecoratedDescriptor,i=r.inheritsLoose,t=r.initializerDefineProperty,n=r.assertThisInitialized},function(r){o=r.cclegacy,c=r._decorator,a=r.CCFloat,l=r.Graphics,s=r.Component}],execute:function(){var u,p,f,d,h;o._RF.push({},"6e59d5plg9GrI98TKfmKBxG","Circle",void 0);var y=c.ccclass,C=c.property;r("Circle",(u=y("Circle"),p=C(a),u((h=e((d=function(r){function e(){for(var e,i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return e=r.call.apply(r,[this].concat(o))||this,t(e,"radius",h,n(e)),e}return i(e,r),e.prototype.onLoad=function(){var r=this.getComponent(l);r.circle(0,0,this.radius),r.fill()},e}(s)).prototype,"radius",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),f=d))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/IntersectionPoint.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Circle.ts","./Line.ts","./Wall.ts"],(function(i){var e,t,n,r,o,l,c,a,s,u,p,d,h;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,n=i.initializerDefineProperty,r=i.assertThisInitialized},function(i){o=i.cclegacy,l=i._decorator,c=i.v2,a=i.Graphics,s=i.Vec2,u=i.Component},function(i){p=i.Circle},function(i){d=i.Line},function(i){h=i.Wall}],execute:function(){var f,v,m,y,b,g,w,P,I,z,V;o._RF.push({},"e517cn3PjdPorvl8rmhByjt","IntersectionPoint",void 0);var x=l.ccclass,C=l.property;i("IntersectionPoint",(f=x("IntersectionPoint"),v=C(d),m=C(d),y=C(p),b=C(h),f((P=e((w=function(i){function e(){for(var e,t=arguments.length,o=new Array(t),l=0;l<t;l++)o[l]=arguments[l];return e=i.call.apply(i,[this].concat(o))||this,n(e,"line1",P,r(e)),n(e,"line2",I,r(e)),n(e,"circle",z,r(e)),n(e,"wall",V,r(e)),e.moveDir=c(1,1).normalize(),e.collided=!1,e}t(e,i);var o=e.prototype;return o.onLoad=function(){var i=this.getComponent(a),e=this.calIntersectionTime(this.line1.p,this.line1.v,this.line2.p,this.line2.v),t=s.add(c(),this.line1.p,s.multiplyScalar(c(),this.line1.v,e));i.circle(t.x,t.y,5),i.fill()},o.calIntersectionTime=function(i,e,t,n){var r=e.x,o=e.y,l=n.x,c=n.y,a=t.x-i.x,s=t.y-i.y,u=o*l-r*c;return 0===u?null:(l*s-c*a)/u},o.circleWallCollision=function(i,e,t){var n=e.normal,r=s.subtract(c(),e.node.position.toVec2(),i.node.position.toVec2()),o=s.dot(r,n);if(Math.abs(o)<i.radius)throw new Error("circle embedded");var l=s.multiplyScalar(c(),n,-i.radius),a=s.multiplyScalar(c(),this.moveDir,50*t);if(s.dot(a,n)>0)return"none";var u=s.add(c(),i.node.position.toVec2(),l),p=this.calIntersectionTime(u,a,e.node.position.toVec2(),e.vector);return p>1?"none":p},o.update=function(i){var e=this.circleWallCollision(this.circle,this.wall,i);if("none"===e){var t=s.multiplyScalar(c(),this.moveDir,50*i);this.circle.node.setPosition(s.add(c(),this.circle.node.position.toVec2(),t).toVec3())}else this.collided||(this.collided=!0,console.log("val number",e))},e}(u)).prototype,"line1",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(w.prototype,"line2",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(w.prototype,"circle",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(w.prototype,"wall",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=w))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/Line.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,r,n,o,a,c,p,s,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.Vec2,p=e.Graphics,s=e.Component,u=e.v2}],execute:function(){var l,h,y,f,v,b,L;o._RF.push({},"9d741uaXyhL97ZbYAVH3jzm","Line",void 0);var d=a.ccclass,g=a.property;e("Line",(l=d("Line"),h=g(c),y=g(c),l((b=t((v=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(t,"p",b,n(t)),r(t,"v",L,n(t)),t}return i(t,e),t.prototype.onLoad=function(){var e=this.getComponent(p);e.moveTo(this.p.x,this.p.y),e.lineTo(this.p.x+this.v.x,this.p.y+this.v.y),e.stroke()},t}(s)).prototype,"p",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u()}}),L=t(v.prototype,"v",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u()}}),f=v))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Ball.ts","./BasicFlipAnimation.ts","./Card.ts","./CardHolder.ts","./CardVisual.ts","./Circle.ts","./IntersectionPoint.ts","./Line.ts","./RotationConstraint.ts","./Test.ts","./Utils.ts","./Wall.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/RotationConstraint.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,o,r,i,a,s,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){i=t.cclegacy,a=t._decorator,s=t.Node,c=t.Component}],execute:function(){var u,l,p,f,h;i._RF.push({},"84578QXfxBBzq51NCkUi+0s","RotationConstraint",void 0);var y=a.ccclass,d=a.type;t("RotationConstraint",(u=y("RotationConstraint"),l=d(s),u((h=e((f=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i))||this,o(e,"source",h,r(e)),e}return n(e,t),e.prototype.update=function(t){this.node.eulerAngles=this.source.eulerAngles},e}(c)).prototype,"source",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=f))||p));i._RF.pop()}}}));

System.register("chunks:///_virtual/Test.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utils.ts"],(function(e){var t,n,r,o,i,u,l,a,c,s,p,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,u=e._decorator,l=e.Node,a=e.Button,c=e.Vec3,s=e.v3,p=e.Component},function(e){f=e.punchPosition}],execute:function(){var d,b,y,h,v,g,A,m,T;i._RF.push({},"b69156pmk1AKpP8EGdHUGLa","Test",void 0);var z=u.ccclass,w=u.property;e("Test",(d=z("Test"),b=w(l),y=w(l),h=w(a),d((A=t((g=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),u=0;u<n;u++)i[u]=arguments[u];return t=e.call.apply(e,[this].concat(i))||this,r(t,"nodeA",A,o(t)),r(t,"nodeB",m,o(t)),r(t,"button",T,o(t)),t}n(t,e);var i=t.prototype;return i.start=function(){var e=this;this.button.node.on(a.EventType.CLICK,(function(){e.nodeA.eulerAngles=c.ZERO,f(e.nodeA,s(0,10,0),.2,20,1)}))},i.update=function(e){},t}(p)).prototype,"nodeA",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=t(g.prototype,"nodeB",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(g.prototype,"button",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=g))||v));i._RF.pop()}}}));

System.register("chunks:///_virtual/Utils.ts",["cc"],(function(n){var o,e,t,i;return{setters:[function(n){o=n.cclegacy,e=n.math,t=n.Vec3,i=n.tween}],execute:function(){function r(n,o,r,a,c,l){if(void 0===c&&(c=10),void 0===l&&(l=1),a<=0)console.warn("DOPunchRotation: duration must be greater than 0");else{l=e.clamp01(l);var u=o.length(),s=Math.floor(c*a);s<2&&(s=2);for(var v=u/s,f=[],h=0,p=0;p<s;++p){var d=a*((p+1)/s);f.push(d),h+=d}for(var m=a/h,g=0;g<f.length;++g)f[g]*=m;for(var R=[],y=u,S=0;S<s;++S){var O=void 0;S<s-1?(O=0===S?o.clone():S%2!=0?o.clone().normalize().multiplyScalar(y*l).negative():o.clone().normalize().multiplyScalar(y),y-=v):O=t.ZERO.clone(),R.push(O)}for(var U=n[r].clone(),_=i(n),k=0;k<s;++k){var w,z=U.clone().add(R[k]);_.to(f[k],((w={})[r]=z,w),{easing:"sineOut"})}_.start()}}n({punchPosition:function(n,o,e,t,i){void 0===t&&(t=10);void 0===i&&(i=1);r(n,o,"position",e,t,i)},punchRotation:function(n,o,e,t,i){void 0===t&&(t=10);void 0===i&&(i=1);r(n,o,"eulerAngles",e,t,i)},remap:function(n,o,e,t,i){return(n-o)/(e-o)*(i-t)+t}}),o._RF.push({},"e6ec5EWSklAIZ9RncKjUc+M","Utils",void 0),o._RF.pop()}}}));

System.register("chunks:///_virtual/Wall.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var o,r,e,n,c,l,a;return{setters:[function(t){o=t.inheritsLoose},function(t){r=t.cclegacy,e=t._decorator,n=t.Graphics,c=t.Vec2,l=t.v2,a=t.Component}],execute:function(){var i;r._RF.push({},"01013LuL+5GlIVS2uqI7GNK","Wall",void 0);var s=e.ccclass;e.property,t("Wall",s("Wall")(i=function(t){function r(){for(var o,r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];return(o=t.call.apply(t,[this].concat(e))||this).normal=l(0,-1),o.vector=l(1,0),o}return o(r,t),r.prototype.onLoad=function(){var t=this.getComponent(n);t.moveTo(0,0);var o=c.multiplyScalar(l(),this.vector,1e3);t.lineTo(o.x,o.y),t.stroke()},r}(a))||i);r._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});