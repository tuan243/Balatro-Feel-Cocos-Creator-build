System.register([],(function(e){"use strict";return{execute:function(){e("default",function(){var e,n=!1,t=function(t){return void 0===t&&(t={}),"function"!=typeof t?Promise.reject(new Error("No wasm support detected")):t().then((function(t){n=!0,(e=t.instance).exports.__wasm_call_ctors()}))};function r(n,t,r,o,c,u){var i=e.exports.sbrk,f=r+3&-4,a=i(f*o),s=i(c.length),d=new Uint8Array(e.exports.memory.buffer);d.set(c,s);var l=n(a,r,o,s,c.length);if(0==l&&u&&u(a,f,o),t.set(d.subarray(a,a+r*o)),i(a-i(0)),0!=l)throw new Error("Malformed buffer data: "+l)}var o={NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},c={ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"},u=[],i=0;function f(e){var n={object:new Worker(e),pending:0,requests:{}};return n.object.onmessage=function(e){var t=e.data;n.pending-=t.count,n.requests[t.id][t.action](t.value),delete n.requests[t.id]},n}function a(e){for(var n="var instance; var ready = WebAssembly.instantiate(new Uint8Array(["+new Uint8Array(unpack(wasm))+"]), {}).then(function(result) { instance = result.instance; instance.exports.__wasm_call_ctors(); });self.onmessage = workerProcess;"+r.toString()+d.toString(),t=new Blob([n],{type:"text/javascript"}),o=URL.createObjectURL(t),c=0;c<e;++c)u[c]=f(o);URL.revokeObjectURL(o)}function s(e,n,t,r,o){for(var c=u[0],f=1;f<u.length;++f)u[f].pending<c.pending&&(c=u[f]);return new Promise((function(u,f){var a=new Uint8Array(t),s=i++;c.pending+=e,c.requests[s]={resolve:u,reject:f},c.object.postMessage({id:s,count:e,size:n,source:a,mode:r,filter:o},[a.buffer])}))}function d(n){t.then((function(){var t=n.data;try{var o=new Uint8Array(t.count*t.size);r(e.exports[t.mode],o,t.count,t.size,t.source,e.exports[t.filter]),self.postMessage({id:t.id,count:t.count,action:"resolve",value:o},[o.buffer])}catch(e){self.postMessage({id:t.id,count:t.count,action:"reject",value:e})}}))}return{ready:t,supported:n,useWorkers:function(e){a(e)},decodeVertexBuffer:function(n,t,c,u,i){r(e.exports.meshopt_decodeVertexBuffer,n,t,c,u,e.exports[o[i]])},decodeIndexBuffer:function(n,t,o,c){r(e.exports.meshopt_decodeIndexBuffer,n,t,o,c)},decodeIndexSequence:function(n,t,o,c){r(e.exports.meshopt_decodeIndexSequence,n,t,o,c)},decodeGltfBuffer:function(n,t,u,i,f,a){r(e.exports[c[f]],n,t,u,i,e.exports[o[a]])},decodeGltfBufferAsync:function(n,i,f,a,d){return u.length>0?s(n,i,f,c[a],o[d]):t.then((function(){var t=new Uint8Array(n*i);return r(e.exports[c[a]],t,n,i,f,e.exports[o[d]]),t}))}}}())}}}));
